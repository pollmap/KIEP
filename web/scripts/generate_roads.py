#!/usr/bin/env python3
"""
Generate comprehensive Korean expressways GeoJSON with all 92 expressways.
35 government (재정) + 23 private (민자) + 34 branch (지선) = 92 total
"""

import json
import math
import random

random.seed(42)  # Reproducible results

# Reference city coordinates [lon, lat]
CITIES = {
    "서울": [126.97, 37.55],
    "부산": [129.05, 35.18],
    "대구": [128.60, 35.87],
    "인천": [126.63, 37.46],
    "광주": [126.85, 35.16],
    "대전": [127.38, 36.35],
    "울산": [129.31, 35.54],
    "세종": [127.00, 36.48],
    "수원": [127.00, 37.26],
    "춘천": [127.73, 37.88],
    "강릉": [128.90, 37.75],
    "속초": [128.59, 38.21],
    "목포": [126.39, 34.79],
    "순천": [127.49, 34.95],
    "포항": [129.36, 36.02],
    "동해": [129.12, 37.50],
    "천안": [127.00, 36.80],
    "논산": [127.10, 36.19],
    "통영": [128.43, 34.85],
    "양양": [128.62, 38.08],
    "당진": [126.63, 36.89],
    "영덕": [129.37, 36.41],
    "평택": [127.11, 36.99],
    "제천": [128.19, 37.13],
    "양평": [127.49, 37.49],
    "익산": [126.96, 35.95],
    "장수": [127.52, 35.66],
    "원주": [127.92, 37.34],
    "밀양": [128.75, 35.50],
    "안양": [126.95, 37.39],
    "문산": [126.78, 37.86],
    "의정부": [127.05, 37.74],
    "남양주": [127.22, 37.64],
    "포천": [127.20, 37.89],
    "파주": [126.78, 37.76],
    "용인": [127.18, 37.24],
    "김포": [126.72, 37.62],
    "안산": [126.83, 37.32],
    "시흥": [126.80, 37.38],
    "여주": [127.64, 37.30],
    "충주": [127.93, 36.99],
    "상주": [128.16, 36.41],
    "영천": [128.94, 35.97],
    "현풍": [128.43, 35.72],
    "창녕": [128.49, 35.54],
    "냉정": [128.95, 35.24],
    "고성": [128.32, 34.97],
    "사천": [128.06, 34.93],
    "진주": [128.08, 35.18],
    "함양": [127.73, 35.52],
    "산청": [127.87, 35.41],
    "경주": [129.22, 35.85],
    "공주": [127.12, 36.45],
    "서천": [126.69, 36.08],
    "보령": [126.61, 36.33],
    "군산": [126.74, 35.97],
    "새만금": [126.62, 35.82],
    "안성": [127.28, 37.01],
    "마장": [127.22, 37.10],
    "서안성": [127.18, 37.00],
    "화성": [126.83, 37.20],
    "오산": [127.07, 37.15],
    "동탄": [127.06, 37.20],
    "봉담": [126.95, 37.23],
    "광명": [126.87, 37.47],
    "구리": [127.14, 37.60],
    "하남": [127.21, 37.54],
    "판교": [127.11, 37.39],
    "영종": [126.57, 37.49],
    "청라": [126.65, 37.53],
    "나주": [126.72, 35.02],
    "담양": [126.99, 35.32],
    "곡성": [127.29, 35.28],
    "임실": [127.29, 35.61],
    "풍기": [128.73, 36.88],
    "영주": [128.62, 36.81],
    "기흥": [127.12, 37.28],
    "과천": [126.99, 37.43],
    "의왕": [126.97, 37.35],
    "양주": [127.05, 37.79],
    "기장": [129.22, 35.24],
    "언양": [129.13, 35.56],
    "서산": [126.45, 36.78],
    "홍천": [127.89, 37.69],
    "군위": [128.57, 36.24],
    "청도": [128.73, 35.65],
    "무안": [126.47, 34.98],
    "일산": [126.77, 37.66],
}


def interpolate_path(waypoints, num_points):
    """Generate smooth path through waypoints with specified number of points."""
    if len(waypoints) >= num_points:
        return waypoints[:num_points]

    # Calculate cumulative distances between waypoints
    distances = [0]
    for i in range(1, len(waypoints)):
        dx = waypoints[i][0] - waypoints[i-1][0]
        dy = waypoints[i][1] - waypoints[i-1][1]
        d = math.sqrt(dx*dx + dy*dy)
        distances.append(distances[-1] + d)

    total_dist = distances[-1]
    if total_dist == 0:
        return waypoints

    result = []
    for i in range(num_points):
        t = i / (num_points - 1) if num_points > 1 else 0
        target_dist = t * total_dist

        # Find which segment we're on
        seg = 0
        for j in range(1, len(distances)):
            if distances[j] >= target_dist:
                seg = j - 1
                break
        else:
            seg = len(distances) - 2

        # Interpolate within segment
        seg_len = distances[seg+1] - distances[seg]
        if seg_len == 0:
            frac = 0
        else:
            frac = (target_dist - distances[seg]) / seg_len

        lon = waypoints[seg][0] + frac * (waypoints[seg+1][0] - waypoints[seg][0])
        lat = waypoints[seg][1] + frac * (waypoints[seg+1][1] - waypoints[seg][1])

        # Add slight natural curve variation (very small)
        if 0 < i < num_points - 1:
            lon += random.uniform(-0.008, 0.008)
            lat += random.uniform(-0.005, 0.005)

        result.append([round(lon, 4), round(lat, 4)])

    return result


def make_feature(name, number, color, subtype, waypoints, num_points, length_km, operator=None):
    """Create a GeoJSON Feature for an expressway."""
    coords = interpolate_path(waypoints, num_points)

    props = {
        "name": name,
        "number": str(number),
        "color": color,
        "type": "expressway",
        "subtype": subtype,
        "length_km": length_km,
    }
    if operator:
        props["operator"] = operator

    return {
        "type": "Feature",
        "properties": props,
        "geometry": {
            "type": "LineString",
            "coordinates": coords
        }
    }


def c(name):
    """Get city coordinates."""
    return list(CITIES[name])


features = []

# ============================================================
# 재정 고속도로 (Government) - 35 roads
# ============================================================

# 1. 경부고속도로(1) - 서울~부산 416km
features.append(make_feature("경부고속도로", "1", "#0000CC", "government",
    [c("서울"), [127.01, 37.47], [127.02, 37.40], [127.03, 37.35],
     [127.04, 37.30], c("수원"), [127.00, 37.20], [127.00, 37.10],
     [127.00, 37.02], c("천안"), [127.02, 36.70], [127.10, 36.60],
     [127.20, 36.50], [127.30, 36.42], c("대전"), [127.50, 36.28],
     [127.65, 36.20], [127.80, 36.15], [128.00, 36.12],
     [128.20, 36.10], [128.35, 36.05], [128.48, 35.97],
     c("대구"), [128.70, 35.78], [128.80, 35.68],
     [128.90, 35.55], [128.95, 35.45], [129.00, 35.35],
     [129.02, 35.28], c("부산")],
    50, 416))

# 2. 남해고속도로(10) - 부산~순천 176km
features.append(make_feature("남해고속도로", "10", "#CC0000", "government",
    [c("부산"), [128.95, 35.19], [128.85, 35.21], [128.70, 35.23],
     [128.55, 35.21], [128.40, 35.19], [128.25, 35.18],
     c("진주"), [127.90, 35.10], [127.75, 35.07],
     [127.62, 35.00], c("순천")],
    30, 176))

# 3. 무안광주고속도로(12) - 무안~광주 50km
features.append(make_feature("무안광주고속도로", "12", "#4488CC", "government",
    [c("무안"), [126.52, 35.00], [126.58, 35.03], [126.65, 35.07],
     [126.72, 35.11], [126.78, 35.13], c("광주")],
    12, 50))

# 4. 서해안고속도로(15) - 서울~목포 339km
features.append(make_feature("서해안고속도로", "15", "#3366CC", "government",
    [[126.80, 37.47], [126.80, 37.40], [126.81, 37.32],
     [126.83, 37.24], [126.85, 37.12], [126.85, 37.00],
     [126.82, 36.90], [126.72, 36.83], [126.60, 36.78],
     [126.55, 36.68], [126.58, 36.58], [126.62, 36.48],
     [126.66, 36.38], [126.70, 36.24], [126.72, 36.10],
     [126.70, 35.95], [126.66, 35.78], [126.58, 35.60],
     [126.50, 35.45], [126.46, 35.30], [126.42, 35.12],
     [126.40, 34.98], [126.39, 34.86], c("목포")],
    45, 339))

# 5. 중부고속도로(35) - 서울~대전 148km
features.append(make_feature("중부고속도로", "35", "#2255AA", "government",
    [c("서울"), [127.00, 37.48], [126.99, 37.42], [126.98, 37.36],
     [126.98, 37.28], [126.99, 37.20], [127.00, 37.12],
     [127.02, 37.04], [127.05, 36.96], [127.10, 36.88],
     [127.15, 36.78], [127.20, 36.68], [127.26, 36.58],
     [127.30, 36.48], [127.35, 36.40], c("대전")],
    25, 148))

# 6. 영동고속도로(50) - 인천~강릉 234km
features.append(make_feature("영동고속도로", "50", "#FF6600", "government",
    [c("인천"), [126.70, 37.45], [126.80, 37.47], [126.92, 37.49],
     c("서울"), [127.10, 37.50], [127.24, 37.48], [127.40, 37.46],
     [127.55, 37.43], [127.70, 37.40], [127.85, 37.38],
     [127.95, 37.36], [128.10, 37.38], [128.25, 37.42],
     [128.40, 37.48], [128.55, 37.55], [128.70, 37.64],
     [128.80, 37.70], c("강릉")],
    35, 234))

# 7. 중앙고속도로(55) - 부산~춘천 370km
features.append(make_feature("중앙고속도로", "55", "#6600CC", "government",
    [c("부산"), [128.97, 35.24], [128.90, 35.34], [128.82, 35.46],
     [128.75, 35.56], [128.68, 35.68], [128.62, 35.78],
     c("대구"), [128.62, 35.94], [128.65, 36.04],
     [128.68, 36.16], [128.72, 36.30], [128.73, 36.45],
     [128.72, 36.58], [128.70, 36.70], [128.66, 36.82],
     [128.60, 36.94], [128.50, 37.04], [128.38, 37.14],
     [128.24, 37.24], [128.10, 37.32], c("원주"),
     [127.86, 37.42], [127.82, 37.54], [127.78, 37.66],
     [127.76, 37.78], c("춘천")],
    45, 370))

# 8. 동해고속도로(65) - 동해~속초 113km
features.append(make_feature("동해고속도로", "65", "#0099CC", "government",
    [c("동해"), [129.08, 37.56], [129.02, 37.62], [128.95, 37.68],
     [128.88, 37.75], c("강릉"), [128.82, 37.82],
     [128.76, 37.90], [128.70, 37.98], [128.65, 38.06],
     c("양양"), [128.60, 38.15], c("속초")],
    20, 113))

# 9. 호남고속도로(25) - 논산~순천 205km
features.append(make_feature("호남고속도로", "25", "#009933", "government",
    [c("논산"), [127.08, 36.12], [127.04, 36.04], [127.00, 35.96],
     [126.97, 35.88], [126.95, 35.80], [126.94, 35.72],
     [126.93, 35.62], [126.92, 35.52], [126.91, 35.42],
     [126.90, 35.32], [126.88, 35.24], c("광주"),
     [126.92, 35.10], [127.00, 35.04], [127.12, 35.00],
     [127.28, 34.98], [127.40, 34.96], c("순천")],
    30, 205))

# 10. 울산고속도로(14) - 울산~밀양 40km
features.append(make_feature("울산고속도로", "14", "#227788", "government",
    [c("울산"), [129.22, 35.52], [129.12, 35.52], [129.02, 35.51],
     [128.92, 35.50], [128.84, 35.50], c("밀양")],
    12, 40))

# 11. 광주대구고속도로(251) - 광주~대구 200km
features.append(make_feature("광주대구고속도로", "251", "#CC3399", "government",
    [c("광주"), [126.95, 35.22], [127.05, 35.28], [127.15, 35.30],
     [127.28, 35.28], [127.40, 35.24], [127.52, 35.20],
     [127.65, 35.17], [127.80, 35.17], [127.95, 35.18],
     [128.10, 35.20], [128.17, 35.28], [128.17, 35.40],
     [128.18, 35.52], [128.22, 35.62], [128.30, 35.72],
     [128.40, 35.78], [128.52, 35.83], c("대구")],
    30, 200))

# 12. 중부내륙고속도로(45) - 양평~대구 197km
features.append(make_feature("중부내륙고속도로", "45", "#336699", "government",
    [c("양평"), [127.52, 37.42], [127.58, 37.34], [127.64, 37.26],
     [127.72, 37.18], [127.80, 37.10], [127.88, 37.02],
     [127.96, 36.94], [128.00, 36.84], [128.04, 36.72],
     [128.08, 36.60], [128.10, 36.48], [128.12, 36.36],
     [128.12, 36.24], [128.12, 36.12], [128.16, 36.00],
     [128.24, 35.92], c("대구")],
    30, 197))

# 13. 통영대전고속도로(35S) - 통영~대전 200km
features.append(make_feature("통영대전고속도로", "35S", "#5533AA", "government",
    [c("통영"), [128.38, 34.92], [128.30, 35.00],
     [128.20, 35.08], c("진주"), [128.00, 35.28],
     [127.92, 35.38], [127.84, 35.48], c("함양"),
     [127.65, 35.62], [127.55, 35.72], [127.45, 35.84],
     [127.40, 35.96], [127.38, 36.08], [127.38, 36.20],
     c("대전")],
    28, 200))

# 14. 서울양양고속도로(60) - 서울~양양 132km
features.append(make_feature("서울양양고속도로", "60", "#339966", "government",
    [c("서울"), [127.08, 37.57], [127.18, 37.60], [127.30, 37.64],
     [127.42, 37.67], [127.55, 37.72], [127.65, 37.76],
     c("춘천"), [127.82, 37.90], [127.92, 37.94],
     [128.05, 37.97], [128.20, 38.00], [128.35, 38.04],
     [128.50, 38.07], c("양양")],
    22, 132))

# 15. 당진영덕고속도로(30) - 당진~영덕 260km
features.append(make_feature("당진영덕고속도로", "30", "#996633", "government",
    [c("당진"), [126.72, 36.87], [126.85, 36.84], [127.00, 36.80],
     [127.15, 36.76], [127.30, 36.72], [127.48, 36.66],
     [127.62, 36.62], [127.78, 36.64], [127.95, 36.67],
     [128.12, 36.70], [128.30, 36.74], [128.50, 36.78],
     [128.65, 36.80], [128.80, 36.78], [128.95, 36.72],
     [129.10, 36.64], [129.22, 36.54], [129.30, 36.46],
     c("영덕")],
    30, 260))

# 16. 세종포천고속도로(29) - 세종~포천 140km
features.append(make_feature("세종포천고속도로", "29", "#448844", "government",
    [c("세종"), [127.02, 36.56], [127.06, 36.66], [127.10, 36.76],
     [127.14, 36.86], [127.18, 36.96], [127.20, 37.06],
     [127.22, 37.18], [127.22, 37.30], [127.22, 37.42],
     [127.22, 37.54], [127.22, 37.66], [127.21, 37.78],
     c("포천")],
    22, 140))

# 17. 수도권제1순환고속도로(100) - 수원~의정부 128km (ring)
features.append(make_feature("수도권제1순환고속도로", "100", "#666666", "government",
    [[126.90, 37.55], [126.94, 37.58], [126.98, 37.59],
     [127.04, 37.59], [127.08, 37.58], [127.12, 37.56],
     [127.15, 37.53], [127.16, 37.50], [127.15, 37.47],
     [127.13, 37.44], [127.10, 37.42], [127.05, 37.40],
     [127.00, 37.40], [126.94, 37.40], [126.88, 37.42],
     [126.83, 37.43], [126.80, 37.46], [126.79, 37.48],
     [126.80, 37.51], [126.83, 37.53], [126.87, 37.55],
     [126.90, 37.55]],
    22, 128))

# 18. 수도권제2순환고속도로(400) - 인천~남양주 110km
features.append(make_feature("수도권제2순환고속도로", "400", "#555577", "government",
    [c("인천"), [126.68, 37.52], [126.74, 37.58], [126.80, 37.63],
     [126.88, 37.68], [126.96, 37.72], [127.05, 37.74],
     [127.14, 37.72], c("남양주")],
    18, 110))

# 19. 남해제2지선(105) - 냉정~부산 35km
features.append(make_feature("남해제2지선", "105", "#BB2222", "government",
    [c("냉정"), [128.98, 35.22], [129.00, 35.20], [129.02, 35.19],
     c("부산")],
    10, 35))

# 20. 부산외곽순환고속도로(600) - 부산 48km (ring)
features.append(make_feature("부산외곽순환고속도로", "600", "#888888", "government",
    [[129.10, 35.25], [129.14, 35.22], [129.18, 35.20],
     [129.20, 35.17], [129.18, 35.14], [129.14, 35.12],
     [129.10, 35.11], [129.05, 35.12], [129.02, 35.14],
     [129.00, 35.17], [129.02, 35.20], [129.06, 35.23],
     [129.10, 35.25]],
    13, 48))

# 21. 대구부산고속도로(20) - 대구~부산 82km
features.append(make_feature("대구부산고속도로", "20", "#CC6600", "government",
    [c("대구"), [128.65, 35.82], [128.70, 35.76], [128.76, 35.68],
     [128.82, 35.60], [128.88, 35.52], [128.92, 35.44],
     [128.96, 35.36], [129.00, 35.28], c("부산")],
    18, 82))

# 22. 대구포항고속도로(21) - 대구~포항 68km
features.append(make_feature("대구포항고속도로", "21", "#BB7722", "government",
    [c("대구"), [128.68, 35.88], [128.78, 35.90], [128.88, 35.92],
     [128.98, 35.94], [129.08, 35.96], [129.20, 35.98],
     [129.30, 36.00], c("포항")],
    15, 68))

# 23. 익산장수고속도로(28) - 익산~장수 51km
features.append(make_feature("익산장수고속도로", "28", "#669944", "government",
    [c("익산"), [126.98, 35.90], [127.04, 35.85], [127.12, 35.80],
     [127.22, 35.76], [127.32, 35.72], [127.42, 35.68],
     c("장수")],
    14, 51))

# 24. 광주원주고속도로(52) - 광주~원주 120km (건설중)
features.append(make_feature("광주원주고속도로", "52", "#44AA66", "government",
    [[126.88, 35.18], [126.95, 35.28], [127.02, 35.38],
     [127.10, 35.48], [127.18, 35.58], [127.28, 35.68],
     [127.38, 35.78], [127.48, 35.90], [127.58, 36.02],
     [127.65, 36.18], [127.72, 36.36], [127.76, 36.52],
     [127.80, 36.70], [127.82, 36.88], [127.85, 37.06],
     [127.88, 37.20], c("원주")],
    25, 120))

# 25. 함양울산고속도로(24) - 함양~울산 170km
features.append(make_feature("함양울산고속도로", "24", "#558866", "government",
    [c("함양"), [127.82, 35.55], [127.95, 35.56],
     [128.08, 35.55], [128.20, 35.53], [128.32, 35.50],
     [128.45, 35.48], [128.58, 35.47], [128.70, 35.48],
     [128.82, 35.50], [128.95, 35.51], [129.08, 35.52],
     [129.20, 35.53], c("울산")],
    22, 170))

# 26. 익산평택고속도로(38) - 익산~평택 120km (건설중)
features.append(make_feature("익산평택고속도로", "38", "#557744", "government",
    [c("익산"), [126.96, 36.02], [126.97, 36.12], [126.98, 36.22],
     [127.00, 36.34], [127.02, 36.46], [127.04, 36.58],
     [127.06, 36.70], [127.08, 36.82], [127.10, 36.92],
     c("평택")],
    18, 120))

# 27. 제2서해안고속도로(15B) - 평택~안성 30km
features.append(make_feature("제2서해안고속도로", "15B", "#4477BB", "government",
    [c("평택"), [127.15, 37.00], [127.20, 37.00], c("안성")],
    10, 30))

# 28. 중앙고속도로지선(551) - 대구~현풍 25km
features.append(make_feature("중앙고속도로지선", "551", "#7733CC", "government",
    [c("대구"), [128.55, 35.84], [128.50, 35.80], [128.47, 35.76],
     c("현풍")],
    10, 25))

# 29. 평택제천고속도로(40) - 평택~제천 141km
features.append(make_feature("평택제천고속도로", "40", "#884488", "government",
    [c("평택"), [127.16, 37.00], [127.24, 37.00], [127.36, 37.00],
     [127.50, 37.00], [127.64, 36.99], [127.78, 36.98],
     c("충주"), [128.00, 37.02], [128.08, 37.06],
     [128.14, 37.10], c("제천")],
    20, 141))

# 30. 제2중부고속도로(37) - 마장~서안성 36km
features.append(make_feature("제2중부고속도로", "37", "#3366AA", "government",
    [c("마장"), [127.22, 37.08], [127.21, 37.06], [127.20, 37.04],
     [127.19, 37.02], c("서안성")],
    10, 36))

# 31. 제2경인고속도로(110) - 인천~안양 23km
features.append(make_feature("제2경인고속도로", "110", "#444488", "government",
    [c("인천"), [126.68, 37.44], [126.74, 37.43], [126.80, 37.42],
     [126.86, 37.41], [126.90, 37.40], c("안양")],
    12, 23))

# 32. 오산화성고속도로(17) - 오산~화성 17km
features.append(make_feature("오산화성고속도로", "17", "#448888", "government",
    [c("오산"), [127.04, 37.16], [127.00, 37.17], [126.96, 37.18],
     [126.92, 37.19], c("화성")],
    8, 17))

# 33. 상주영천고속도로(30S) - 상주~영천 83km
features.append(make_feature("상주영천고속도로", "30S", "#887744", "government",
    [c("상주"), [128.24, 36.38], [128.32, 36.34],
     [128.42, 36.28], [128.52, 36.22], c("군위"),
     [128.66, 36.18], [128.76, 36.12], [128.84, 36.05],
     c("영천")],
    16, 83))

# 34. 파주포천고속도로(95) - 파주~포천 30km
features.append(make_feature("파주포천고속도로", "95", "#667766", "government",
    [c("파주"), [126.82, 37.78], [126.88, 37.80],
     [126.95, 37.82], [127.02, 37.84], [127.10, 37.86],
     [127.15, 37.88], c("포천")],
    12, 30))

# 35. 새만금포항고속도로(30R) - 새만금~포항 250km (건설중)
features.append(make_feature("새만금포항고속도로", "30R", "#AA8844", "government",
    [c("새만금"), [126.70, 35.84], [126.80, 35.86],
     [126.92, 35.88], [127.04, 35.86], [127.18, 35.82],
     [127.32, 35.78], [127.48, 35.74], [127.62, 35.72],
     [127.78, 35.72], [127.94, 35.74], [128.10, 35.78],
     [128.26, 35.82], [128.42, 35.86], [128.58, 35.90],
     [128.74, 35.94], [128.90, 35.98], [129.10, 36.00],
     [129.24, 36.01], c("포항")],
    30, 250))

# ============================================================
# 민자 고속도로 (Private) - 23 roads
# ============================================================

# 1. 천안논산고속도로(25P) - 천안~논산 81km
features.append(make_feature("천안논산고속도로", "25P", "#F97316", "private",
    [c("천안"), [127.02, 36.74], [127.04, 36.66],
     [127.06, 36.58], [127.08, 36.50], [127.09, 36.42],
     [127.10, 36.34], [127.10, 36.26], c("논산")],
    15, 81, "충남고속도로(주)"))

# 2. 서울양양고속도로(60P) - 서울~양양 일부
features.append(make_feature("서울양양고속도로(민자)", "60P", "#EA580C", "private",
    [[127.10, 37.58], [127.22, 37.62], [127.36, 37.66],
     [127.50, 37.70], [127.65, 37.75], c("홍천"),
     [128.05, 37.78], [128.22, 37.84], [128.40, 37.92],
     [128.52, 38.00], c("양양")],
    18, 90, "서울양양고속도로(주)"))

# 3. 인천대교고속도로(110B) - 인천대교 22km
features.append(make_feature("인천대교고속도로", "110B", "#EF4444", "private",
    [[126.58, 37.40], [126.56, 37.38], [126.55, 37.36],
     [126.56, 37.34], [126.58, 37.32], [126.62, 37.30],
     [126.65, 37.29]],
    10, 22, "인천대교(주)"))

# 4. 인천국제공항고속도로(130) - 인천공항 40km
features.append(make_feature("인천국제공항고속도로", "130", "#DC2626", "private",
    [c("영종"), [126.55, 37.47], [126.52, 37.45],
     [126.50, 37.44], [126.48, 37.46], [126.46, 37.45],
     [126.42, 37.45], [126.38, 37.45], [126.35, 37.46]],
    12, 40, "인천국제공항고속도로(주)"))

# 5. 용인서울고속도로(171) - 용인~서울 23km
features.append(make_feature("용인서울고속도로", "171", "#FB923C", "private",
    [c("용인"), [127.16, 37.28], [127.14, 37.32],
     [127.12, 37.36], [127.10, 37.40], [127.08, 37.44],
     [127.06, 37.48], [127.04, 37.52]],
    10, 23, "용인서울고속도로(주)"))

# 6. 서울문산고속도로(77) - 서울~문산 36km
features.append(make_feature("서울문산고속도로", "77", "#F59E0B", "private",
    [[126.88, 37.58], [126.86, 37.62], [126.84, 37.66],
     [126.82, 37.70], [126.80, 37.74], [126.80, 37.78],
     [126.79, 37.82], c("문산")],
    12, 36, "서울문산고속도로(주)"))

# 7. 수정산터널고속도로(1P) - 수정터널 4km
features.append(make_feature("수정산터널고속도로", "1P", "#E11D48", "private",
    [[129.04, 35.16], [129.05, 35.15], [129.06, 35.14],
     [129.07, 35.14]],
    8, 4))

# 8. 부산울산고속도로(16) - 부산~울산 47km
features.append(make_feature("부산울산고속도로", "16", "#F43F5E", "private",
    [c("부산"), [129.08, 35.22], [129.12, 35.28],
     [129.16, 35.34], [129.20, 35.40], [129.24, 35.46],
     [129.28, 35.50], c("울산")],
    14, 47, "부산울산고속도로(주)"))

# 9. 대구부산고속도로(20P) - 대구~부산 일부
features.append(make_feature("대구부산고속도로(민자)", "20P", "#FB7185", "private",
    [c("대구"), [128.66, 35.82], [128.72, 35.74],
     [128.76, 35.66], c("청도"), [128.78, 35.56],
     [128.82, 35.46], [128.88, 35.38], [128.94, 35.30],
     c("부산")],
    16, 82, "신대구부산고속도로(주)"))

# 10. 서천공주고속도로(153) - 서천~공주 52km
features.append(make_feature("서천공주고속도로", "153", "#F97316", "private",
    [c("서천"), [126.74, 36.12], [126.80, 36.18],
     [126.86, 36.24], [126.92, 36.30], [126.98, 36.35],
     [127.04, 36.40], c("공주")],
    14, 52, "서천공주고속도로(주)"))

# 11. 제2영동고속도로(50P) - 인천~여주 60km
features.append(make_feature("제2영동고속도로", "50P", "#EA580C", "private",
    [c("인천"), [126.70, 37.44], [126.80, 37.42],
     [126.92, 37.40], [127.05, 37.38], [127.18, 37.36],
     [127.30, 37.34], [127.42, 37.32], [127.54, 37.31],
     c("여주")],
    16, 60, "제2영동고속도로(주)"))

# 12. 봉담동탄고속도로(15BD) - 봉담~동탄 18km
features.append(make_feature("봉담동탄고속도로", "15BD", "#FF8C00", "private",
    [c("봉담"), [126.97, 37.22], [127.00, 37.22],
     [127.03, 37.21], c("동탄")],
    8, 18, "봉담동탄고속도로(주)"))

# 13. 인천김포고속도로(130P) - 인천~김포 18km
features.append(make_feature("인천김포고속도로", "130P", "#D97706", "private",
    [c("인천"), [126.65, 37.50], [126.67, 37.54],
     [126.69, 37.58], c("김포")],
    8, 18, "인천김포고속도로(주)"))

# 14. 제2순환(서측)(400P) - 수원~일산 40km
features.append(make_feature("수도권제2순환(서측)", "400P", "#E2711D", "private",
    [c("수원"), [126.96, 37.30], [126.92, 37.36],
     [126.88, 37.42], [126.85, 37.48], [126.82, 37.54],
     [126.80, 37.60], c("일산")],
    12, 40))

# 15. 동북선(파주~포천)(95P) - 파주~포천 일부
features.append(make_feature("동북선고속도로", "95P", "#C2410C", "private",
    [c("파주"), [126.84, 37.79], [126.92, 37.82],
     [127.00, 37.84], [127.08, 37.87], c("포천")],
    10, 28))

# 16. 상주영천고속도로(30SP) - 상주~영천 일부
features.append(make_feature("상주영천고속도로(민자)", "30SP", "#B45309", "private",
    [c("상주"), [128.28, 36.38], [128.40, 36.32],
     [128.50, 36.24], [128.60, 36.18], [128.72, 36.12],
     [128.82, 36.06], c("영천")],
    14, 83))

# 17. 대전남부순환고속도로(300) - 대전 25km
features.append(make_feature("대전남부순환고속도로", "300", "#DC2626", "private",
    [[127.30, 36.30], [127.34, 36.28], [127.38, 36.27],
     [127.42, 36.28], [127.46, 36.30], [127.48, 36.33],
     [127.46, 36.36], [127.42, 36.38], [127.38, 36.38],
     [127.34, 36.37], [127.30, 36.35]],
    11, 25))

# 18. 제3경인고속도로(120) - 인천~안양 12km
features.append(make_feature("제3경인고속도로", "120", "#F87171", "private",
    [c("인천"), [126.68, 37.46], [126.74, 37.46],
     [126.80, 37.46], [126.86, 37.45], [126.90, 37.44],
     c("안양")],
    10, 12))

# 19. 인천안산고속도로(150) - 인천~안산 15km
features.append(make_feature("인천안산고속도로", "150", "#FCA5A5", "private",
    [c("인천"), [126.66, 37.42], [126.70, 37.40],
     [126.74, 37.38], [126.78, 37.35], c("안산")],
    10, 15))

# 20. 호남고속도로지선(253) - 논산~대전 38km
features.append(make_feature("호남고속도로지선", "253", "#FF6B6B", "private",
    [c("논산"), [127.14, 36.22], [127.18, 36.25],
     [127.22, 36.28], [127.28, 36.30], [127.33, 36.32],
     c("대전")],
    12, 38))

# 21. 광주제2순환(252) - 광주 30km
features.append(make_feature("광주제2순환고속도로", "252", "#E74C3C", "private",
    [[126.78, 35.12], [126.80, 35.10], [126.84, 35.09],
     [126.88, 35.10], [126.92, 35.12], [126.94, 35.15],
     [126.92, 35.18], [126.88, 35.20], [126.84, 35.20],
     [126.80, 35.18], [126.78, 35.15], [126.78, 35.12]],
    12, 30))

# 22. 남해제3지선(106) - 부산 15km
features.append(make_feature("남해제3지선", "106", "#FF4757", "private",
    [[129.00, 35.14], [129.02, 35.12], [129.05, 35.10],
     [129.08, 35.09], [129.10, 35.10], [129.12, 35.12]],
    8, 15))

# 23. 김포파주고속도로(15C) - 김포~파주 20km
features.append(make_feature("김포파주고속도로", "15C", "#FF6348", "private",
    [c("김포"), [126.74, 37.65], [126.76, 37.68],
     [126.77, 37.72], c("파주")],
    8, 20))

# ============================================================
# 지선 고속도로 (Branch) - 34 roads
# ============================================================

# 1. 남해제1지선(104) - 냉정JC~부산 20km
features.append(make_feature("남해제1지선", "104", "#DD8888", "branch",
    [c("냉정"), [128.97, 35.22], [129.00, 35.20],
     [129.02, 35.18], c("부산")],
    9, 20))

# 2. 호남지선(251) - 논산~대전 50km (호남선에서 대전으로)
features.append(make_feature("호남지선", "251", "#88CC88", "branch",
    [c("논산"), [127.12, 36.22], [127.16, 36.26],
     [127.20, 36.28], [127.26, 36.30], [127.30, 36.32],
     [127.34, 36.34], c("대전")],
    14, 50))

# 3. 중부내륙지선(451) - 현풍~창녕 30km
features.append(make_feature("중부내륙지선", "451", "#7799BB", "branch",
    [c("현풍"), [128.45, 35.68], [128.46, 35.64],
     [128.47, 35.60], [128.48, 35.56], c("창녕")],
    10, 30))

# 4. 경부지선(101) - 금토JC~판교 12km
features.append(make_feature("경부지선", "101", "#6666CC", "branch",
    [[127.04, 37.42], [127.06, 37.41], [127.08, 37.40],
     c("판교")],
    8, 12))

# 5. 서해안지선(151) - 서평택~안중 15km
features.append(make_feature("서해안지선", "151", "#7799CC", "branch",
    [[126.92, 36.98], [126.90, 36.96], [126.88, 36.94],
     [126.86, 36.92], [126.84, 36.90]],
    8, 15))

# 6. 영동지선(501) - 여주~양평 20km
features.append(make_feature("영동지선", "501", "#CC9944", "branch",
    [c("여주"), [127.60, 37.34], [127.56, 37.38],
     [127.52, 37.42], [127.50, 37.46], c("양평")],
    10, 20))

# 7. 동해지선(651) - 강릉~동해 하조대 15km
features.append(make_feature("동해지선", "651", "#77BBCC", "branch",
    [[128.92, 37.72], [128.96, 37.68], [129.00, 37.64],
     [129.04, 37.58], [129.08, 37.54]],
    8, 15))

# 8. 중부지선(351) - 하남~구리 18km
features.append(make_feature("중부지선", "351", "#6688AA", "branch",
    [c("하남"), [127.18, 37.56], [127.16, 37.58],
     c("구리")],
    8, 18))

# 9. 당진지선(301) - 당진~서산 25km
features.append(make_feature("당진지선", "301", "#AA9966", "branch",
    [c("당진"), [126.60, 36.87], [126.56, 36.84],
     [126.52, 36.82], [126.48, 36.80], c("서산")],
    10, 25))

# 10. 통영지선(355) - 통영~고성 20km
features.append(make_feature("통영지선", "355", "#8866AA", "branch",
    [c("통영"), [128.40, 34.88], [128.38, 34.92],
     [128.35, 34.95], c("고성")],
    8, 20))

# 11. 대구포항지선(211) - 경주~포항 25km
features.append(make_feature("대구포항지선", "211", "#BB9955", "branch",
    [c("경주"), [129.26, 35.88], [129.30, 35.92],
     [129.33, 35.96], c("포항")],
    9, 25))

# 12. 익산장수지선(281) - 임실~장수 15km
features.append(make_feature("익산장수지선", "281", "#88AA77", "branch",
    [c("임실"), [127.32, 35.62], [127.38, 35.64],
     [127.44, 35.65], c("장수")],
    8, 15))

# 13. 함양지선(241) - 산청~함양 20km
features.append(make_feature("함양지선", "241", "#88AA88", "branch",
    [c("산청"), [127.84, 35.44], [127.80, 35.48],
     c("함양")],
    8, 20))

# 14. 광주원주지선(521) - 여주~원주 25km
features.append(make_feature("광주원주지선", "521", "#77BB88", "branch",
    [c("여주"), [127.70, 37.32], [127.78, 37.33],
     [127.84, 37.33], c("원주")],
    9, 25))

# 15. 서울양양지선(601) - 홍천~양양 30km
features.append(make_feature("서울양양지선", "601", "#77AA88", "branch",
    [c("홍천"), [127.98, 37.74], [128.10, 37.80],
     [128.22, 37.86], [128.34, 37.92], [128.46, 37.98],
     [128.54, 38.04], c("양양")],
    12, 30))

# 16. 세종지선(291) - 세종~공주 20km
features.append(make_feature("세종지선", "291", "#779977", "branch",
    [c("세종"), [127.02, 36.48], [127.04, 36.46],
     [127.08, 36.46], c("공주")],
    8, 20))

# 17. 평택제천지선(401) - 충주~제천 25km
features.append(make_feature("평택제천지선", "401", "#AA77AA", "branch",
    [c("충주"), [127.98, 37.02], [128.04, 37.06],
     [128.10, 37.08], [128.15, 37.10], c("제천")],
    10, 25))

# 18. 상주영천지선(305) - 군위~영천 20km
features.append(make_feature("상주영천지선", "305", "#AA9977", "branch",
    [c("군위"), [128.62, 36.20], [128.68, 36.16],
     [128.76, 36.12], [128.84, 36.06], c("영천")],
    10, 20))

# 19. 대구부산지선(201) - 청도~밀양 25km
features.append(make_feature("대구부산지선", "201", "#CC9966", "branch",
    [c("청도"), [128.74, 35.62], [128.75, 35.58],
     [128.75, 35.54], c("밀양")],
    9, 25))

# 20. 부산외곽지선(605) - 기장~부산 15km
features.append(make_feature("부산외곽지선", "605", "#999999", "branch",
    [c("기장"), [129.20, 35.22], [129.16, 35.20],
     [129.12, 35.18], [129.08, 35.18], c("부산")],
    8, 15))

# 21. 수도권순환지선(1001) - 의왕~과천 10km
features.append(make_feature("수도권순환지선", "1001", "#888899", "branch",
    [c("의왕"), [126.98, 37.37], [126.99, 37.39],
     [126.99, 37.41], c("과천")],
    8, 10))

# 22. 호남제2지선(254) - 광주~나주 20km
features.append(make_feature("호남제2지선", "254", "#88BB88", "branch",
    [c("광주"), [126.82, 35.12], [126.80, 35.08],
     [126.76, 35.05], c("나주")],
    8, 20))

# 23. 남해내륙지선(107) - 진주~사천 15km
features.append(make_feature("남해내륙지선", "107", "#CC9999", "branch",
    [c("진주"), [128.06, 35.14], [128.06, 35.08],
     [128.06, 35.02], c("사천")],
    8, 15))

# 24. 울산지선(141) - 언양~울산 12km
features.append(make_feature("울산지선", "141", "#77AAAA", "branch",
    [c("언양"), [129.17, 35.56], [129.22, 35.55],
     [129.27, 35.54], c("울산")],
    8, 12))

# 25. 파주포천지선(951) - 양주~포천 18km
features.append(make_feature("파주포천지선", "951", "#889988", "branch",
    [c("양주"), [127.08, 37.82], [127.12, 37.84],
     [127.16, 37.87], c("포천")],
    8, 18))

# 26. 새만금지선(302) - 군산~새만금 15km
features.append(make_feature("새만금지선", "302", "#BB9966", "branch",
    [c("군산"), [126.72, 35.94], [126.68, 35.90],
     [126.66, 35.86], c("새만금")],
    8, 15))

# 27. 제2서해안지선(155) - 화성~안성 20km
features.append(make_feature("제2서해안지선", "155", "#7799BB", "branch",
    [c("화성"), [126.88, 37.18], [126.94, 37.14],
     [127.00, 37.10], [127.08, 37.06], [127.16, 37.02],
     c("안성")],
    10, 20))

# 28. 오산지선(175) - 오산~동탄 10km
features.append(make_feature("오산지선", "175", "#77AAAA", "branch",
    [c("오산"), [127.06, 37.16], [127.06, 37.18],
     c("동탄")],
    8, 10))

# 29. 제2경인지선(115) - 광명~시흥 12km
features.append(make_feature("제2경인지선", "115", "#7777AA", "branch",
    [c("광명"), [126.85, 37.46], [126.83, 37.44],
     [126.82, 37.42], [126.81, 37.40], c("시흥")],
    8, 12))

# 30. 인천공항지선(135) - 영종~청라 15km
features.append(make_feature("인천공항지선", "135", "#CC7777", "branch",
    [c("영종"), [126.59, 37.50], [126.61, 37.51],
     [126.63, 37.52], c("청라")],
    8, 15))

# 31. 중앙내륙지선(555) - 풍기~영주 18km
features.append(make_feature("중앙내륙지선", "555", "#9977BB", "branch",
    [c("풍기"), [128.70, 36.86], [128.68, 36.84],
     [128.65, 36.82], c("영주")],
    8, 18))

# 32. 경부제2지선(102) - 기흥~용인 10km
features.append(make_feature("경부제2지선", "102", "#8888CC", "branch",
    [c("기흥"), [127.14, 37.27], [127.16, 37.26],
     c("용인")],
    8, 10))

# 33. 서천지선(1531) - 서천~보령 20km
features.append(make_feature("서천지선", "1531", "#CC9977", "branch",
    [c("서천"), [126.68, 36.12], [126.66, 36.18],
     [126.64, 36.24], [126.62, 36.30], c("보령")],
    10, 20))

# 34. 광주대구지선(2511) - 담양~곡성 25km
features.append(make_feature("광주대구지선", "2511", "#BB88AA", "branch",
    [c("담양"), [127.02, 35.30], [127.08, 35.30],
     [127.16, 35.29], [127.22, 35.28], c("곡성")],
    10, 25))


# ============================================================
# Build and write GeoJSON
# ============================================================

geojson = {
    "type": "FeatureCollection",
    "features": features
}

# Count by subtype
gov_count = sum(1 for f in features if f["properties"]["subtype"] == "government")
priv_count = sum(1 for f in features if f["properties"]["subtype"] == "private")
branch_count = sum(1 for f in features if f["properties"]["subtype"] == "branch")

print(f"Total features: {len(features)}")
print(f"  Government (재정): {gov_count}")
print(f"  Private (민자): {priv_count}")
print(f"  Branch (지선): {branch_count}")

output_path = "/home/user/KIEP/web/public/data/major-roads.json"
with open(output_path, "w", encoding="utf-8") as f:
    json.dump(geojson, f, ensure_ascii=False, indent=2)

print(f"\nWritten to {output_path}")
print(f"File size: {len(json.dumps(geojson, ensure_ascii=False, indent=2)):,} bytes")

# Validate
import json as json2
with open(output_path, "r", encoding="utf-8") as f:
    data = json2.load(f)
    assert data["type"] == "FeatureCollection"
    assert len(data["features"]) == 92, f"Expected 92 features, got {len(data['features'])}"
    for feat in data["features"]:
        assert feat["type"] == "Feature"
        assert "name" in feat["properties"]
        assert "number" in feat["properties"]
        assert "color" in feat["properties"]
        assert "subtype" in feat["properties"]
        assert "length_km" in feat["properties"]
        assert feat["geometry"]["type"] == "LineString"
        assert len(feat["geometry"]["coordinates"]) >= 3
    print("Validation passed! All 92 features are valid.")
